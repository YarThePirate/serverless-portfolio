<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <title>React Demo!</title>
    <style>
        .messageBox {
            border: 1px solid;
            margin: 1em;
            padding: 2em;
        }
        
        .error {
            border-color: red;
            background-color: #eebbbb;
        }
        
        .success {
            border-color: blue;
            background-color: #bbbbee;
        }
        
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <main id="content">
        
    </main>
    
    <script src="https://unpkg.com/babel-standalone"></script>
    <script type="text/javascript" src="https://unpkg.com/react@16.0.0/umd/react.production.min.js"></script>
    <script type="text/javascript" src="https://unpkg.com/react-dom@16.0.0/umd/react-dom.production.min.js"></script>
    
    <script type="text/babel" data-presets="react">
        class NameInput extends React.Component {
            constructor(props) {
                super(props);
                
                this.state = {
                    message: {
                        type: undefined, 
                        message: undefined
                    }
                }
                this.buttonClick = this.buttonClick.bind(this)
            }
            
            buttonClick(evt) {
                let name = this.refs.nameInput.value;
                this.setState({
                    message: {
                        type: (name && name.length > 2) ? "success" : "error",
                        message: (name && name.length > 2) ? `Welcome to React, ${name}!` : "Your name is bad and you should feel bad."
                    }
                });
            }
            
            render() {
                
                let msg = this.state.message;
                
                return <div>
                    <label> Name: <input ref="nameInput" type="text" name="name" placeholder="Wut u naem" /></label>
                    <button id="submit-name" onClick={this.buttonClick}>CLEEK MEH</button>
                    <MessageBox type={msg.type} message={msg.message}/> 
                </div>
            }
        }
        
        const MessageBox = ({type="", message="No ain't got nuthin'"}) => {
            messageClass = `messageBox ${(type || 'hidden')}`
            return <div className={messageClass}>
               {message} 
            </div>
        }
        
        ReactDOM.render(<NameInput />, document.getElementById("content"));
    </script>
</body>